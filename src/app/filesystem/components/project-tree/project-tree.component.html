<ng-container *ngIf="projectTree$ | async as projectTree">
  <div class="context-menu-trigger" [appContextMenuTrigger]="projectTree.contextMenuId">
    <ng-container *ngIf="rootDirectory$ | async as rootDirectory">
      <div class="project-name">
        {{ rootDirectory.name }}
      </div>
    </ng-container>
    <ng-container *ngIf="rootDirectoryItem$ | async as rootDirectoryItem">
      <ng-container *ngFor="let directoryItemId of rootDirectoryItem.directoryItemIds">
        <app-directory-item [directoryItemId]="directoryItemId"></app-directory-item>
      </ng-container>
      <ng-container *ngFor="let fileItemId of rootDirectoryItem.fileItemIds">
        <app-file-item [fileItemId]="fileItemId"></app-file-item>
      </ng-container>
    </ng-container>
  </div>
  <ng-container *ngIf="projectTree.contextMenuId">
    <app-context-menu [contextMenuId]="projectTree.contextMenuId"></app-context-menu>
  </ng-container>
  <ng-container *ngIf="projectTree.directoryItemContextMenuId">
    <app-context-menu [contextMenuId]="projectTree.directoryItemContextMenuId"></app-context-menu>
  </ng-container>
  <ng-container *ngFor="let entry of projectTree.fileItemContextMenuIds | keyvalue">
    <app-context-menu [contextMenuId]="entry.value"></app-context-menu>
  </ng-container>
</ng-container>
